{% extends "base.html" %}

{% block title %}‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÇ‡∏Ñ {{ c.name|default:"(‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ä‡∏∑‡πà‡∏≠)" }}{% endblock %}

{% block content %}
<div class="container mt-4">

    <!-- Card ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÇ‡∏Ñ -->
    <div class="card shadow-sm mb-4">
    <div class="card-header bg-primary text-white">
        <h5 class="mb-0">üìã ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÇ‡∏Ñ</h5>
    </div>
    <div class="card-body">
        <p><strong>‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç:</strong> {{ c.tag_no }}</p>
        <p><strong>‡∏ä‡∏∑‡πà‡∏≠:</strong> {{ c.name|default:"-" }}</p>
        <p><strong>‡πÄ‡∏û‡∏®:</strong> {{ c.get_gender_display }}</p>
        <p><strong>‡∏™‡∏≤‡∏¢‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå:</strong> {{ c.breed|default:"-" }}</p>
        <p><strong>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó:</strong> {{ c.category|default:"-" }}</p>
        <p><strong>‡∏Ñ‡∏≠‡∏Å/‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏∑‡∏≠‡∏ô:</strong> {{ c.housing|default:"-" }}</p>
    </div>
</div>

<!-- ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£ -->
<div class="card shadow-sm mb-4">
    <div class="card-header bg-success text-white">
        <h5 class="mb-0">üçΩ ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏≠‡∏≤‡∏´‡∏≤‡∏£</h5>
    </div>
    <div class="card-body table-responsive">
        <table class="table table-bordered text-center">
            <thead class="table-light">
                <tr>
                    <th>Ration ID(‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏π‡∏ï‡∏£‡∏≠‡∏≤‡∏´‡∏≤‡∏£)</th>
                    <th>‡πÄ‡∏ß‡∏•‡∏≤‡πÉ‡∏´‡πâ‡∏≠‡∏≤‡∏´‡∏≤‡∏£</th>
                    <th>‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏™‡∏î (‡∏Å‡∏Å.)</th>
                    <th>‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÅ‡∏´‡πâ‡∏á (‡∏Å‡∏Å.)</th>
                    <th>‡πÄ‡∏™‡∏£‡∏¥‡∏°</th>
                </tr>
            </thead>
            <tbody>
                {% for ration in c.rations.all %}
                <tr>
                    <td>{{ ration.ration_id }}</td>
                    <td>{{ ration.feeding_time }}</td>
                    <td>{{ ration.fresh_weight }}</td>
                    <td>{{ ration.dry_weight }}</td>
                    <td>{{ ration.supplement|default:"-" }}</td>
                </tr>
                {% empty %}
                <tr><td colspan="5">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</td></tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>

<!-- ‡∏ß‡∏±‡∏Ñ‡∏ã‡∏µ‡∏ô -->
<div class="card shadow-sm mb-4">
    <div class="card-header bg-warning">
        <h5 class="mb-0">üíâ ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏â‡∏µ‡∏î‡∏ß‡∏±‡∏Ñ‡∏ã‡∏µ‡∏ô</h5>
    </div>
    <div class="card-body">
        <ul>
            {% for v in c.vaccinations.all %}
                <li>{{ v.vaccine_name }} - {{ v.vaccine_date|date:"d/m/Y" }} (‡∏´‡∏°‡∏≠: {{ v.doctor_name|default:"-" }})</li>
            {% empty %}
                <li>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ß‡∏±‡∏Ñ‡∏ã‡∏µ‡∏ô</li>
            {% endfor %}
        </ul>
    </div>
</div>

<!-- HealthCheck -->
<div class="d-flex justify-content-between align-items-center mb-2">
    <h5>üìä ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û</h5>
    <a href="{% url 'cattle:add_healthcheck' c.id %}" class="btn btn-success btn-sm">+ ‡πÄ‡∏û‡∏¥‡πà‡∏° HealthCheck</a>
</div>


    <!-- Back Button -->
    <a href="{% url 'cattle:select_cattle_for_healthcheck' %}" class="btn btn-secondary mt-3">
        <i class="bi bi-arrow-left"></i> ‡∏Å‡∏•‡∏±‡∏ö
    </a>

</div>
{% endblock %}
